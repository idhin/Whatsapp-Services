# ============================================
# WhatsApp Services - Environment Configuration
# ============================================
#
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Edit .env with your configuration
# 3. Run: docker-compose up -d --build
#

# ============================================
# PORT CONFIGURATION
# ============================================
# Backend API port (default: 3001)
# If port 3000 is already in use, change to another port
PORT=3001

# Alternative: You can also use BACKEND_PORT instead of PORT
# BACKEND_PORT=3001

# Frontend dashboard port (default: 5173)
FRONTEND_PORT=5173

# ============================================
# API SECURITY
# ============================================
# Global API key for authentication (OPTIONAL)
# Uncomment and set in production for security
# API_KEY=your_secure_api_key_here

# ============================================
# WEBHOOK CONFIGURATION
# ============================================
# Base URL for webhook callbacks
BASE_WEBHOOK_URL=http://localhost:3001/localCallbackExample

# Per-session webhooks (OPTIONAL)
# Format: {SESSIONID}_WEBHOOK_URL
# Example: MYSESSION_WEBHOOK_URL=https://your-server.com/webhook

# ============================================
# FEATURE FLAGS
# ============================================
# Enable local callback example endpoint
ENABLE_LOCAL_CALLBACK_EXAMPLE=TRUE

# Enable Swagger API documentation at /api-docs
ENABLE_SWAGGER_ENDPOINT=TRUE

# Auto-mark messages as seen/read (OPTIONAL)
# Uncomment to enable
# SET_MESSAGES_AS_SEEN=TRUE

# ============================================
# CALLBACK SETTINGS
# ============================================
# Disable specific callbacks (pipe-separated)
# Options: message_ack, message_reaction, qr, authenticated, etc.
DISABLED_CALLBACKS=message_ack|message_reaction

# ============================================
# FILE UPLOAD & RATE LIMITING
# ============================================
# Maximum attachment size in bytes (5MB default)
MAX_ATTACHMENT_SIZE=5000000

# Rate limit: maximum requests per window
RATE_LIMIT_MAX=1000

# Rate limit window in milliseconds (60000 = 1 minute)
RATE_LIMIT_WINDOW_MS=60000

# ============================================
# WHATSAPP WEB VERSION (ADVANCED - OPTIONAL)
# ============================================
# Pin to specific WhatsApp Web version
# Leave commented to use latest version
# WEB_VERSION=2.2328.5

# Cache type for WhatsApp Web version
# Options: none, local, remote
# WEB_VERSION_CACHE_TYPE=none

# Auto-recover sessions on container restart
# RECOVER_SESSIONS=TRUE

# ============================================
# NOTES
# ============================================
# - Backward Compatible: Old .env files work without changes
# - Frontend auto-connects to backend using PORT/BACKEND_PORT
# - No hardcoded ports anywhere
# - Per-session webhooks: add {SESSIONID}_WEBHOOK_URL for each session
# - After changing values, rebuild: docker-compose up -d --build
